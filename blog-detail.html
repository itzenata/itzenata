<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Title | IT ZENATA</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header class="header">
        <a href="index.html#accueil" class="logo">
            <img src="assets/images/itzenata-txt-XL.png" alt="IT ZENATA Logo" />
        </a>
        <nav class="navbar">
            <a href="index.html#accueil">Accueil</a>
            <a href="index.html#services">Services</a>
            <a href="index.html#projets">Projets</a>
            <a href="index.html#blogs">Blogs</a>
        </nav>
    </header>

    <section class="blog-detail" id="blog-detail">
        <!-- Discover bar -->
        <div class="discover-bar">
            <button class="scroll-btn left" onclick="scrollLeft()">&#9664;</button>
            <div class="collections-container" id="collections-container">
                <!-- Collection buttons will be dynamically inserted here -->
            </div>
            <button class="scroll-btn right" onclick="scrollRight()">&#9654;</button>
        </div>

        <div class="blog-detail-content">
            <div class="blog-detail-container">
                <div class="blog-header">
                    <h1 class="blog-title" id="blog-title"></h1>
                </div>
                <hr style="border: 0.1px solid #258F95; background-color: #258F95;;">

                <p class="blog-content" id="blog-content"></p>
            </div>

            <!-- Related subjects section -->
            <aside class="related-blogs">
                <h2 id="related-section-title">Sujets Connexes</h2>
                <div class="related-blogs-container" id="related-blogs">
                    <!-- Related blog cards will be injected here -->
                </div>
            </aside>
        </div>
    </section>

    <script>
        const blogs = {
            "devops": {
                title: "Automatiser et intégrer les processus entre les équipes de développement et d’exploitation.",
                content: "Le développement DevOps joue un rôle clé en améliorant l'efficacité et la qualité des processus de développement et de déploiement d'un site web. En intégrant les équipes de développement (Dev) et d'exploitation (Ops), DevOps vise à automatiser et à rationaliser les cycles de vie des applications, du codage à la production. Cela inclut l'automatisation des déploiements, des tests et de la gestion des infrastructures, ce qui réduit les erreurs humaines et accélère le processus de mise en marché. L'approche DevOps favorise également une collaboration plus étroite entre les développeurs et les opérationnels, facilitant ainsi la résolution rapide des problèmes et la mise en œuvre des améliorations. En utilisant des outils et des pratiques comme l'intégration continue, le déploiement continu et la gestion des configurations, DevOps assure une livraison continue de valeur aux utilisateurs tout en maintenant un environnement stable et sécurisé. En somme, DevOps est essentiel pour améliorer la vitesse, la qualité et la fiabilité des déploiements, contribuant ainsi au succès global d'un site web.",
                image: "assets/images/blogs/DevOps.jpg",  
                description: "Automatisation et intégration des processus pour une meilleure efficacité.",
                collection: "dev"
            },
            "backend": {
                title: "Gestion des bases de données et des serveurs dans les applications robustes.",
                content: "Le développement backend est fondamental pour assurer la robustesse et l'efficacité d'un site web en gérant le traitement des données et la logique de l'application. Il est responsable de la gestion des serveurs, des bases de données et des API, permettant aux fonctionnalités frontend de se connecter et de fonctionner correctement. En structurant et en sécurisant les données, le backend assure une performance fluide et rapide, même sous des charges élevées. Il gère également l'authentification des utilisateurs, le traitement des transactions et la logique métier, garantissant ainsi que toutes les opérations se déroulent de manière sécurisée et conforme. Un backend bien conçu facilite l'évolution et l'entretien du site en permettant des mises à jour et des modifications sans perturber l'expérience utilisateur. En résumé, le backend est crucial pour la fiabilité et la performance d'un site web, car il assure une base solide sur laquelle le frontend peut se construire et interagir efficacement.",
                image: "assets/images/blogs/backend_text_1.jpg",  
                description: "Gestion des serveurs et des bases de données.",
                collection: "dev"
            },
            "frontend": {
                title: "Création d'interfaces attrayantes avec HTML, CSS, et JavaScript.",
                content: "Le développement frontend joue un rôle crucial dans la création d'une expérience utilisateur agréable et fluide sur un site web. En se concentrant sur l'interface utilisateur et l'interaction visuelle, le frontend permet de transformer des concepts et des designs en pages web interactives et attrayantes. Cela inclut la gestion de la mise en page, du style et des animations, ce qui améliore non seulement l'esthétique du site mais aussi sa fonctionnalité. Un frontend bien conçu garantit que le site est réactif et fonctionne de manière optimale sur divers appareils et tailles d'écran, ce qui est essentiel pour attirer et retenir les utilisateurs. De plus, un bon développement frontend facilite l'intégration des fonctionnalités backend, créant ainsi un environnement cohérent et intégré. En somme, le frontend est essentiel pour le succès global d'un site web, car il influence directement la satisfaction de l'utilisateur et la performance du site.",
                image: "assets/images/blogs/frontend.jpg",  
                description: "Création d'interfaces attrayantes et interactives.",
                collection: "dev"
            },
            "michel banier": {
                title: "Michel Barnier : Un Visionnaire Européen avec un Regard sur le Maroc",
                content: "Michel Barnier, ancien ministre français et éminent négociateur du Brexit, reste l’une des figures les plus influentes sur la scène politique européenne. Au-delà de ses compétences diplomatiques et de sa carrière impressionnante, Barnier incarne une approche visionnaire des relations internationales, notamment avec les pays du pourtour méditerranéen, parmi lesquels le Maroc joue un rôle clé. Le Maroc, avec sa position stratégique et ses réformes progressistes, a toujours été un partenaire essentiel de l'Europe. Michel Barnier, au fil de ses années au service des institutions européennes, a toujours vu le Maroc comme un allié incontournable, soulignant l’importance de maintenir et de renforcer les liens entre les deux rives de la Méditerranée. Sa connaissance approfondie des enjeux géopolitiques et économiques du Maroc en fait un acteur clé dans les relations euro-méditerranéennes.",
                image: "assets/images/blogs/MichelBanier.jpg",
                description: "Visionnaire politique avec un regard sur le Maroc.",
                collection: "politics"
            },
            "ui-ux": {
                title: "Conception visuelle et optimisation du parcours utilisateur pour une expérience web fluide",
                content: "L'UI (User Interface) et l'UX (User Experience) sont des éléments cruciaux pour la création d'un site web réussi, influençant directement la manière dont les utilisateurs interagissent avec et perçoivent le site. L'UI (Interface Utilisateur) se concentre sur l'aspect visuel et interactif du site. Cela inclut la conception des boutons, des menus, des formulaires et des autres éléments interactifs qui permettent aux utilisateurs de naviguer et d'interagir avec le site. Un design UI efficace crée une interface attrayante et fonctionnelle, facilitant l'accès aux fonctionnalités et informations du site. Une bonne conception UI améliore l'esthétique et la cohérence visuelle, rendant le site plus engageant et intuitif.",
                image: "assets/images/blogs/ui-ux.jpg",  
                description: "Conception visuelle et optimisation du parcours utilisateur.",
                collection: "dev"
            }
        };
        // Collection names
        const collections = ["dev", "politics", "travel", "food", "writing"];

        // Shuffle array function to randomize blogs
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Load collection buttons
        function loadCollections() {
            const container = document.getElementById('collections-container');
            container.innerHTML = ''; // Clear existing content

            collections.forEach(collection => {
                const button = document.createElement('button');
                button.classList.add('collection-item');
                button.textContent = collection.charAt(0).toUpperCase() + collection.slice(1);
                button.onclick = () => loadRandomBlogFromCollection(collection);
                container.appendChild(button);
            });
        }

        // Load random blog from the selected collection
        function loadRandomBlogFromCollection(collection) {
            const blogEntries = Object.entries(blogs).filter(([key, blog]) => blog.collection === collection);
            if (blogEntries.length > 0) {
                const randomBlog = shuffle(blogEntries)[0]; // Pick one random blog
                displayBlog(randomBlog[1], randomBlog[0], collection); // Display selected blog
            }
        }

        // Display blog and load related blogs
        function displayBlog(blog, blogId, collection) {
            document.title = blog.title + " | IT ZENATA";
            document.getElementById('blog-title').innerText = blog.title;
            document.getElementById('blog-content').innerText = blog.content;
            loadRelatedBlogs(blogId, collection);
        }

        // Load related blogs
        function loadRelatedBlogs(currentBlogId, collection) {
            const relatedContainer = document.getElementById('related-blogs');
            const relatedTitle = document.getElementById('related-section-title');
            relatedContainer.innerHTML = ''; // Clear existing content

            // Filter blogs from the same collection, excluding the current blog
            const relatedBlogs = Object.entries(blogs).filter(([key, blog]) => blog.collection === collection && key !== currentBlogId);

            if (relatedBlogs.length > 0) {
                relatedTitle.innerText = "Sujets Connexes";
                // Shuffle and pick 3 random related blogs
                const randomBlogs = shuffle(relatedBlogs).slice(0, 3);
                randomBlogs.forEach(([key, blog]) => {
                    createBlogCard(blog, key, relatedContainer);
                });
            } else {
                // Show blogs from other collections labeled "Autres"
                relatedTitle.innerText = "Autres";
                const otherBlogs = Object.entries(blogs).filter(([key, blog]) => blog.collection !== collection && key !== currentBlogId);
                const randomOtherBlogs = shuffle(otherBlogs).slice(0, 3);
                randomOtherBlogs.forEach(([key, blog]) => {
                    createBlogCard(blog, key, relatedContainer);
                });
            }
        }

        // Create a blog card element
        function createBlogCard(blog, blogId, container) {
            const card = document.createElement('div');
            card.classList.add('blog-card');
            card.innerHTML = `
                <a href="blog-detail.html?id=${blogId}" class="read-more">
                    <img src="${blog.image}" alt="${blog.title}" class="blog-card-image">
                    <h3>${blog.title}</h3>
                    <p>${blog.description}</p>
                </a>
            `;
            container.appendChild(card);
        }

        // Scroll functions for left and right buttons
        function scrollLeft() {
            const container = document.getElementById('collections-container');
            container.scrollBy({
                left: -200,
                behavior: 'smooth'
            });
        }

        function scrollRight() {
            const container = document.getElementById('collections-container');
            container.scrollBy({
                left: 200,
                behavior: 'smooth'
            });
        }

        // Call the function to load collections on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadCollections();

            // Get the blog ID from the URL
            const blogId = new URLSearchParams(window.location.search).get('id');
            
            // Display the selected blog if ID is valid
            if (blogId && blogs[blogId]) {
                displayBlog(blogs[blogId], blogId, blogs[blogId].collection);
            } else {
                // Handle invalid or missing blog ID
                document.getElementById('blog-title').innerText = 'Blog not found';
                document.getElementById('blog-content').innerText = 'The blog you are looking for does not exist.';
            }
        });
    </script>

</body>

</html>
